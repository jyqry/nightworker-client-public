(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{8213:function(n,e,t){Promise.resolve().then(t.bind(t,7355))},7355:function(n,e,t){"use strict";t.r(e);var o=t(230),r=t(7437),i=t(6864),c=t(4505),s=t(2619),a=t(4033),u=t(2265),d=t(2409);function l(){let n=(0,o._)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  padding: 196px 36px 36px 36px;\n  @media screen and (max-width: 720px) {\n    padding: 144px 36px 36px 36px;\n  }\n"]);return l=function(){return n},n}function p(){let n=(0,o._)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  min-height: 500px;\n"]);return p=function(){return n},n}function f(){let n=(0,o._)(['\n  position: relative;\n  background-color: #ffffff;\n  color: #000000;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid #000000;\n  font-weight: 900;\n  font-size: 36px;\n  padding: 24px 36px;\n  cursor: pointer;\n  > span {\n    position: relative;\n    z-index: 2;\n  }\n  &:after {\n    content: "";\n    display: block;\n    position: absolute;\n    left: 0;\n    width: 0%;\n    height: 100%;\n    background-color: #00ff47;\n    transition: width 0.3s ease-in-out;\n    z-index: 1;\n  }\n  &:hover {\n    &:after {\n      width: 100%;\n    }\n  }\n  @media screen and (max-width: 720px) {\n    font-size: 24px;\n    padding: 12px 18px;\n  }\n']);return f=function(){return n},n}let h=d.ZP.div.withConfig({componentId:"sc-c6abdbb7-0"})(l()),x=d.ZP.div.withConfig({componentId:"sc-c6abdbb7-1"})(p()),g=d.ZP.div.withConfig({componentId:"sc-c6abdbb7-2"})(f());e.default=()=>{let n=(0,a.useRouter)(),{login:e}=(0,c.useAuth)(),{isLogin:t,setAccessToken:o}=(0,i.a)(),[d,l]=(0,u.useState)(""),p=async e=>{let{idToken:t,provider:r}=e;await s.b.post("/v1/auth",{idToken:t,provider:r}).then(e=>{let{data:{data:{accessToken:t}}}=e;o(t),n.replace("/mypage")}).catch(n=>{console.log(n),l("로그인에 실패했습니다.")})},f=async()=>e("Google").then(async n=>{let e=n.providerId,t=await n.user.getIdToken();await p({idToken:t,provider:e})}).catch(n=>{l("구글 아이디로 로그인에 실패했습니다.")});return(0,u.useEffect)(()=>{if(!t)return},[t,n]),(0,r.jsxs)(h,{children:[d,(0,r.jsx)(x,{children:(0,r.jsx)(g,{onClick:()=>f(),children:(0,r.jsx)("span",{children:"구글 아이디로 로그인하기"})})})]})}},6864:function(n,e,t){"use strict";t.d(e,{a:function(){return i}});var o=t(3771),r=t(2265);let i=()=>{let[n,e]=(0,r.useState)("");(0,r.useEffect)(()=>{let n=window.localStorage.getItem("accessToken");n&&e(n)},[]);let t=(0,r.useMemo)(()=>n?(0,o.o)(n):void 0,[n]),i=(0,r.useMemo)(()=>!!(t&&new Date(1e3*t.exp)>new Date),[t]);return{isLogin:i,accessToken:n,setAccessToken:n=>{window.localStorage.setItem("accessToken",n),e(n)},...t&&{email:t.email},...t&&{exp:t.exp}}}},4505:function(n,e,t){"use strict";t.r(e),t.d(e,{AuthContextProvider:function(){return f},useAuth:function(){return h}});var o=t(7437),r=t(2265),i=t(8153),c=t(994);let s=(0,c.ZF)({apiKey:"AIzaSyBzqESsEso2BKVzJXOvSQyXYzRu4nfpXrs",authDomain:"nightworker-seoul.firebaseapp.com",projectId:"nightworker-seoul",storageBucket:"nightworker-seoul.appspot.com",messagingSenderId:"505353781992",appId:"1:505353781992:web:928110b0f580f134d73f5d"}),a=(0,i.v0)(s),u=new i.hJ;class d{constructor(){this.login=n=>{let e=this.getProvider(n);return(0,i.rh)(a,e)},this.getProvider=n=>{if("Google"===n)return u;throw Error("".concat(n," is unknown provider."))}}}let l=new d,p=(0,r.createContext)(l),f=n=>{let{children:e}=n;return(0,o.jsx)(p.Provider,{value:l,children:e})},h=()=>(0,r.useContext)(p)},2619:function(n,e,t){"use strict";t.d(e,{b:function(){return r}});var o=t(2173);let r=o.Z.create({baseURL:"https://nightworker-api-afdd2a63c699.herokuapp.com"})}},function(n){n.O(0,[220,737,167,825,971,472,744],function(){return n(n.s=8213)}),_N_E=n.O()}]);